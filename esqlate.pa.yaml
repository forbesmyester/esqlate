connection:
  exit_esqlate_server: l:esqlate_server[X] | l:exit_esqlate_server | j:log
  exit_esqlate_front: l:esqlate_front[X] | l:exit_esqlate_front | j:log
  l2: j:esqlate_server_out | j:log
  l3: l:esqlate_server[E] | j:log
  log: j:log | d:log
  loop: j:join_two | j:join_one
  main: j:join_one | l:esqlate_front_grep | l:esqlate_server | j:esqlate_server_out | l:esqlate_server_grep | l:esqlate_front | j:join_two | j:log
drain:
  log:
    destination: _
faucet:
  tap:
    source: '-'
launch:
  esqlate_server:
    cmd: node
    arg:
    - "esqlate-startup.js"
    - "server"
    # - '( if [ ! -d ./dep-esqlate-server ]; then echo "INFO: Checking out eSQLate Server"; git clone https://github.com/forbesmyester/esqlate-server.git ./dep-esqlate-server; fi ) && cd ./dep-esqlate-server && git checkout v1.2.0 && ( if [ ! -f dist/cmd.js ]; then echo "INFO: Installing eSQLate Server dependencies" && ( npm install | sed "s/^/SERVER: NPM_INSTALL: /" ) && echo "INFO: Building eSQLate Server" && ( npm run-script build | sed "s/^/SERVER: NPM_BUILD: /" ); else echo "INFO: eSQLate Server already configured"; fi ) && node dist/cmd.js serve'
  esqlate_server_grep: # converted from `grep`, because Windows...
    cmd: node
    arg:
    - "esqlate-startup.js"
    - "silly-grep"
  esqlate_front_grep: # converted from `grep`, because Windows...
    cmd: node
    arg:
    - "esqlate-startup.js"
    - "silly-grep"
  esqlate_front:
    cmd: node
    arg:
    - "esqlate-startup.js"
    - "front"
  exit_esqlate_server: # converted from `sed`, because Windows...
    cmd: node
    arg:
    - "esqlate-startup.js"
    - "silly-sed-server"
  exit_esqlate_front: # converted from `sed`, because Windows...
    cmd: node
    arg:
    - "esqlate-startup.js"
    - "silly-sed-front"
